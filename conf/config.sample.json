{
  "port": 1337,
  "sites": [{
    "hostProxy": "cassandre.local",
    "port": 5984,
    "path": "/cassandre/_design/cassandre/_rewrite",
    "hideLocationParts": 1,
    "authentication": [
      {"login": "alice", "password": "whiterabbit"},
      {"login": "mrwhite", "password": "alice"},
      {"url": "http://localhost:5984/"}
    ],
    "restricted": {
      "iamlate": ["mrwhite"]
    },
    "sessionHandler": {
      "path": "/_session"
    },
    "rules": [{
      "control": "method != 'GET' || /Wonderland/.test(path)",
      "action": "authenticate(context,function(){authorize(context,function(){proxyWork(context)})})"
    }]
  },{
    "hostProxy": "^couchdb.local",
    "port": 5984,
    "preserveCredentials": true,
    "rules":[]
  },{
    "hostProxy": "^xcouchdb.local",
    "port": 5984,
    "sessionHandler": {
      "path": "/_session"
    },
    "authentication": [
      {"login": "alice", "password": "whiterabbit"}
    ],
    "rules":[]
  },{
    "hostProxy": "^xxcouchdb.local",
    "port": 5984,
    "sessionHandler": {
      "path": "/_session",
      "preserveCredentials": true
    },
    "authentication": [
      {"login": "alice", "password": "whiterabbit"}
    ],
    "proxyAuth": {
      "headerName": "X-Auth-CouchDB-UserName"
    },
    "rules":[]
  }]
}
